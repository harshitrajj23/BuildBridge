module.exports=[69562,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131),e=a.i(68515),f=a.i(91678),g=a.i(46271),h=a.i(62036),i=a.i(40695),j=a.i(7706),k=a.i(5522),l=a.i(92759),m=a.i(70106);let n=(0,m.default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var o=a.i(80843);function p({projectId:a="project-1"}){let{data:c=[],isLoading:e}=(0,o.useProjectMessages)(a),{mutate:f,isPending:m}=(0,o.useAddMessage)(a),p=(0,d.useRef)(null),[q,r]=(0,d.useState)("");(0,d.useEffect)(()=>{p.current?.scrollIntoView({behavior:"smooth"})},[c]);let s=()=>{q.trim()&&f({content:q,senderId:"current-user",senderName:"You",senderAvatar:"/ai-avatar.png"},{onSuccess:()=>r("")})};return(0,b.jsxs)(g.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"w-80 border-r border-border/40 backdrop-blur-md bg-background/30 flex flex-col overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 border-b border-border/20",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm mb-2",children:"Team Chat"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Project Discussion"})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[e?(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsx)(n,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):(0,b.jsx)(h.AnimatePresence,{mode:"popLayout",children:c.map((a,c)=>(0,b.jsxs)(g.motion.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.3,delay:.05*c},className:`flex gap-2 ${a.isOwn?"flex-row-reverse":""}`,children:[(0,b.jsxs)(j.Avatar,{className:"w-8 h-8 flex-shrink-0",children:[(0,b.jsx)(j.AvatarImage,{src:a.senderAvatar||"/placeholder.svg",alt:a.senderName}),(0,b.jsx)(j.AvatarFallback,{children:a.senderName[0]})]}),(0,b.jsxs)("div",{className:`flex flex-col gap-1 ${a.isOwn?"items-end":"items-start"}`,children:[(0,b.jsx)("div",{className:`px-3 py-2 rounded-lg text-sm max-w-xs backdrop-blur-sm transition-all hover:shadow-lg ${a.isOwn?"bg-primary/20 text-foreground border border-primary/30":"bg-muted/40 text-foreground border border-border/20"}`,children:a.content}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground px-3",children:a.timestamp&&new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]},a.id))}),(0,b.jsx)("div",{ref:p})]}),(0,b.jsx)("div",{className:"p-4 border-t border-border/20 space-y-2",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(k.Input,{placeholder:"Type message...",value:q,onChange:a=>r(a.target.value),onKeyPress:a=>"Enter"===a.key&&s(),className:"text-sm bg-muted/30 border-border/30 backdrop-blur-sm",disabled:m}),(0,b.jsx)(g.motion.div,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:s,className:"flex-shrink-0",children:(0,b.jsx)(i.Button,{size:"icon",className:"h-10 w-10 bg-primary hover:bg-primary/90",disabled:m||!q.trim(),children:m?(0,b.jsx)(n,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(l.Send,{className:"h-4 w-4"})})})]})})]})}var q=a.i(3130),r=a.i(67453),s=a.i(41710),t=a.i(62722);let u=({milestone:a,onStatusChange:c,index:d,isUpdating:e})=>{let f={pending:{icon:s.Clock,color:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400 border-yellow-500/30",label:"Pending"},approved:{icon:r.CheckCircle2,color:"bg-green-500/20 text-green-700 dark:text-green-400 border-green-500/30",label:"Approved"},rejected:{icon:t.XCircle,color:"bg-red-500/20 text-red-700 dark:text-red-400 border-red-500/30",label:"Rejected"}}[a.status],h=f.icon,i=["pending","approved","rejected"],j=i[(i.indexOf(a.status)+1)%i.length];return(0,b.jsx)(g.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*d},whileHover:{y:-4,shadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:(0,b.jsx)(q.Card,{className:"p-6 backdrop-blur-md bg-gradient-to-br from-card/50 to-card/20 border-border/40 hover:border-border/60 transition-all",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.description})]}),(0,b.jsx)(g.motion.div,{animate:{rotate:(a.status,0)},transition:{type:"spring"},children:(0,b.jsx)(h,{className:`h-5 w-5 ${f.color.split(" ")[0]}`})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Progress"}),(0,b.jsxs)("span",{className:"font-semibold",children:[a.progress,"%"]})]}),(0,b.jsx)("div",{className:"h-2 bg-muted/30 rounded-full overflow-hidden backdrop-blur-sm border border-border/20",children:(0,b.jsx)(g.motion.div,{initial:{width:0},animate:{width:`${a.progress}%`},transition:{duration:.8,ease:"easeOut"},className:"h-full bg-gradient-to-r from-primary to-primary/70 rounded-full"})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(g.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c(a.id,j),disabled:e,className:`px-3 py-1 rounded-md text-sm font-medium border flex items-center gap-2 transition-all cursor-pointer disabled:opacity-50 ${f.color}`,children:[e?(0,b.jsx)(n,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(h,{className:"h-4 w-4"}),f.label]}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Due ",new Date(a.dueDate).toLocaleDateString()]})]})]})})})};function v({projectId:a="project-1"}){let{data:c=[],isLoading:e}=(0,o.useProjectMilestones)(a),{mutate:f,isPending:h}=(0,o.useUpdateMilestone)(a),[i,j]=(0,d.useState)(null),k=(a,b)=>{j(a),f({milestoneId:a,status:b},{onSuccess:()=>j(null),onError:()=>j(null)})};return(0,b.jsxs)(g.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Project Milestones"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Track progress and approve deliverables"})]}),e?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsx)(n,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):(0,b.jsx)("div",{className:"grid gap-4",children:c.map((a,c)=>(0,b.jsx)(u,{milestone:a,onStatusChange:k,index:c,isUpdating:i===a.id},a.id))})]})}var w=a.i(54161);let x=(0,m.default)("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]),y=(0,m.default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);var z=a.i(84505),A=a.i(81560);function B({activeTab:a,setActiveTab:c}){let[e,f]=(0,d.useState)([{id:"1",name:"Design Mockups.fig",size:"12.5 MB",uploadedBy:"Sarah Chen",uploadedAt:new Date(Date.now()-72e5),type:"design"},{id:"2",name:"API Documentation.md",size:"2.3 MB",uploadedBy:"Alex Rivera",uploadedAt:new Date(Date.now()-144e5),type:"document"},{id:"3",name:"Frontend Components.tsx",size:"5.1 MB",uploadedBy:"Alex Rivera",uploadedAt:new Date(Date.now()-216e5),type:"code"}]),[j,k]=(0,d.useState)(!1),l=[{id:"1",action:"Updated milestone status to Approved",author:"Jordan Kim",timestamp:new Date(Date.now()-18e5),icon:"âœ“"},{id:"2",action:"Uploaded new design mockups",author:"Sarah Chen",timestamp:new Date(Date.now()-36e5),icon:"ðŸ“¤"},{id:"3",action:"Joined the project",author:"Jordan Kim",timestamp:new Date(Date.now()-108e5),icon:"ðŸ‘¤"},{id:"4",action:"Created project and added files",author:"Alex Rivera",timestamp:new Date(Date.now()-864e5),icon:"ðŸ“"}];return(0,b.jsxs)(g.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"w-80 border-l border-border/40 backdrop-blur-md bg-background/30 flex flex-col overflow-hidden",children:[(0,b.jsx)("div",{className:"p-4 border-b border-border/20",children:(0,b.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,b.jsxs)(g.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c("files"),className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${"files"===a?"bg-primary/20 text-foreground border border-primary/30":"text-muted-foreground hover:text-foreground"}`,children:[(0,b.jsx)(x,{className:"h-4 w-4 inline mr-2"}),"Files"]}),(0,b.jsxs)(g.motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>c("activity"),className:`flex-1 px-3 py-2 rounded-md text-sm font-medium transition-all ${"activity"===a?"bg-primary/20 text-foreground border border-primary/30":"text-muted-foreground hover:text-foreground"}`,children:[(0,b.jsx)(y,{className:"h-4 w-4 inline mr-2"}),"Activity"]})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,b.jsx)(h.AnimatePresence,{mode:"wait",children:"files"===a?(0,b.jsxs)(g.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"p-4 space-y-4",children:[(0,b.jsx)(g.motion.div,{onDragOver:a=>{a.preventDefault(),k(!0)},onDragLeave:()=>{k(!1)},onDrop:a=>{a.preventDefault(),k(!1)},animate:{backgroundColor:j?"rgba(59, 130, 246, 0.1)":"rgba(0, 0, 0, 0)",borderColor:j?"rgb(59, 130, 246)":"currentColor"},transition:{duration:.2},className:"border-2 border-dashed border-border/40 rounded-lg p-4 text-center transition-all cursor-pointer hover:border-primary/50",children:(0,b.jsxs)(g.motion.div,{animate:{y:j?-4:0},transition:{duration:.2},children:[(0,b.jsx)(x,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:"Drop files here"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"or click to browse"})]})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-muted-foreground px-2",children:"Recent Files"}),e.map((a,c)=>(0,b.jsxs)(g.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.3,delay:.05*c},className:"p-3 rounded-lg bg-muted/30 border border-border/20 hover:border-border/40 transition-all group",children:[(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(x,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.uploadedBy," â€¢ ",a.uploadedAt.toLocaleDateString()]})]}),(0,b.jsx)(w.Badge,{variant:"outline",className:"text-xs flex-shrink-0",children:a.size})]}),(0,b.jsxs)("div",{className:"flex gap-1 mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)(i.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",children:(0,b.jsx)(z.Download,{className:"h-3 w-3"})}),(0,b.jsx)(i.Button,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 text-destructive hover:text-destructive",onClick:()=>{var b;return b=a.id,void f(e.filter(a=>a.id!==b))},children:(0,b.jsx)(A.Trash2,{className:"h-3 w-3"})})]})]},a.id))]})]},"files"):(0,b.jsx)(g.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"p-4 space-y-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-muted-foreground px-2",children:"Activity Feed"}),l.map((a,c)=>(0,b.jsxs)(g.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3,delay:.05*c},className:"relative pl-6",children:[c<l.length-1&&(0,b.jsx)(g.motion.div,{layoutId:`line-${a.id}`,className:"absolute left-2 top-6 w-0.5 h-8 bg-gradient-to-b from-primary/50 to-primary/0"}),(0,b.jsx)(g.motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.05*c+.1},className:"absolute left-0 top-0 w-5 h-5 bg-primary/20 border-2 border-primary rounded-full flex items-center justify-center text-xs",children:a.icon}),(0,b.jsxs)("div",{className:"bg-muted/30 border border-border/20 rounded-lg p-3 hover:border-border/40 transition-all",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.action}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[a.author," â€¢ ",a.timestamp.toLocaleTimeString()]})]})]},a.id))]})},"activity")})})]})}let C=(0,m.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var D=a.i(63588);let E=(0,m.default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),F=(0,m.default)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function G(){let[a,c]=(0,d.useState)(!1),e=[{id:"1",label:"New Message",icon:(0,b.jsx)(D.MessageSquare,{className:"h-5 w-5"}),color:"bg-blue-500 hover:bg-blue-600"},{id:"2",label:"Upload File",icon:(0,b.jsx)(x,{className:"h-5 w-5"}),color:"bg-purple-500 hover:bg-purple-600"},{id:"3",label:"Share Project",icon:(0,b.jsx)(E,{className:"h-5 w-5"}),color:"bg-green-500 hover:bg-green-600"},{id:"4",label:"Settings",icon:(0,b.jsx)(F,{className:"h-5 w-5"}),color:"bg-orange-500 hover:bg-orange-600"}];return(0,b.jsxs)("div",{className:"fixed bottom-8 right-8 z-40",children:[(0,b.jsx)(h.AnimatePresence,{children:a&&(0,b.jsx)(g.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute bottom-20 right-0 space-y-3",children:e.map((a,c)=>(0,b.jsxs)(g.motion.div,{initial:{opacity:0,scale:0,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:0,y:10},transition:{duration:.3,delay:.05*c,type:"spring",stiffness:400,damping:25},className:"flex items-center gap-3 group",children:[(0,b.jsx)(g.motion.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.2,delay:.05*c+.1},className:"bg-background/80 border border-border/40 rounded-lg px-3 py-2 backdrop-blur-sm whitespace-nowrap text-sm font-medium text-foreground",children:a.label}),(0,b.jsx)(g.motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`p-3 rounded-full text-white shadow-lg transition-all ${a.color}`,children:a.icon})]},a.id))})}),(0,b.jsxs)(g.motion.button,{onClick:()=>c(!a),whileHover:{scale:1.1},whileTap:{scale:.9},animate:{rotate:45*!!a},transition:{duration:.3},className:"relative w-14 h-14 bg-gradient-to-br from-primary to-primary/80 text-white rounded-full shadow-2xl flex items-center justify-center hover:shadow-3xl transition-shadow",children:[(0,b.jsx)(C,{className:"h-6 w-6"}),(0,b.jsx)(g.motion.div,{animate:{scale:a?1.2:1},transition:{duration:.3},className:"absolute inset-0 bg-primary/20 rounded-full"})]})]})}let H="project-1";function I(){let a=(0,c.useRouter)(),{isLoggedIn:g}=(0,e.useBuildBridgeStore)(),[h,i]=(0,d.useState)("files");return((0,d.useEffect)(()=>{g||a.push("/login")},[g,a]),g)?(0,b.jsx)(f.PageTransition,{children:(0,b.jsxs)("div",{className:"flex h-[calc(100vh-56px)] bg-gradient-to-br from-background via-background to-primary/5 overflow-hidden",children:[(0,b.jsx)(p,{projectId:H}),(0,b.jsx)(v,{projectId:H}),(0,b.jsx)(B,{activeTab:h,setActiveTab:i}),(0,b.jsx)(G,{})]})}):null}a.s(["default",()=>I],69562)}];

//# sourceMappingURL=app_workspace_page_tsx_b600575a._.js.map